我想要使用油猴脚本结合ai进行自动整理哔站收藏夹

我需要一个油猴(Tampermonkey)脚本来自动整理哔哩哔哩(bilibili.com)的收藏夹。具体需求如下：

1. 功能要求：

- 能够访问B站收藏夹页面并获取所有收藏内容
- 分析视频标题、简介、标签等信息
- 根据内容相似度和主题自动对视频进行分类
- 能够自动创建新的收藏夹并将视频移动到对应分类
- 在界面上添加一个按钮来触发整理功能

2. 技术细节：

- 使用JavaScript编写
- 需要包含必要的@name, @namespace等油猴脚本元数据
- 需要处理B站API的访问和权限
- 考虑请求频率限制
- 需要优雅处理错误情况

3. 用户交互：

- 添加简单的配置界面让用户可以：
  * 选择要整理的收藏夹
  * 自定义分类规则
  * 设置是否自动创建新收藏夹
- 显示整理进度
- 完成后展示整理结果

请提供完整的脚本代码，并附带详细的注释说明每个部分的功能。

后续优化：

1. 增加源目的收藏夹功能、增加进度条
2. 创建收藏夹的功能
   1. 获取选择的收藏夹下所有内容，发送给AI，让它总结出可以使用哪些收藏夹。这个收藏夹的一个详细程度给我一个选择。
   2. 显示出来，让我选择哪些收藏夹进行创建（默认全选）
   3. 之后调用哔站api创建收藏夹
3. 分批整理收藏夹以及暂停继续停止功能
   1. 可以选择获取到的每一页作为一次处理的数量。
   2. 支持处理完当前页后暂停、继续和停止的功能
4. 问题：（新增功能2中出现的，尚未解决）
   1. 我找到问题所在loadFavList函数中const targetDiv = dialog.querySelector('[name="targetFavs"]');没有获取到这个dom
